---
import Layout from "../layouts/Layout.astro";
import SlidePage from "../components/SlidePage.astro";
import { slides } from "../data/slides";
---

<Layout title="婚礼故事 - 电子请帖">
	<main class="story">
		{
			slides.map((s, i) => (
				<SlidePage
					src={s.src}
					title={s.title}
					copy={s.copy}
					index={i}
					total={slides.length}
				/>
			))
		}
		<section class="actions">
			<div class="invite-card">
				<h3>婚礼信息</h3>
				<p>日期：2026-06-06 周六 15:00</p>
				<p>地点：爱与和平礼堂 · 二层宴会厅</p>
				<p>着装：简约正式</p>
				<div class="btns">
					<a class="cta" href="/api/reservations">确认出席</a>
					<a
						class="map"
						href="https://maps.example.com"
						target="_blank"
						rel="noopener">查看地图</a
					>
				</div>
			</div>
		</section>
	</main>
</Layout>
<script>
	const container = document.querySelector(".story") as HTMLElement | null;
	if (container) {
		container.scrollTo({ top: 0, behavior: "auto" });
	}
</script>
<style>
	.story {
		width: 100%;
		height: 100vh;
		scroll-snap-type: y mandatory;
		overflow-y: auto;
		-webkit-overflow-scrolling: touch;
		overscroll-behavior-y: contain;
	}
	.story > * {
		scroll-snap-align: start;
	}
	.actions {
		height: 60vh;
		display: grid;
		place-items: center;
		background: #000;
		padding-bottom: env(safe-area-inset-bottom);
	}
	.invite-card {
		width: min(92vw, 560px);
		border-radius: 16px;
		padding: 16px 16px 14px;
		background: rgba(255, 255, 255, 0.06);
		border: 1px solid rgba(255, 255, 255, 0.12);
		color: #fff;
	}
	.invite-card h3 {
		margin: 0 0 8px;
		font-size: 18px;
		letter-spacing: 0.06em;
	}
	.invite-card p {
		margin: 2px 0;
		font-size: 14px;
		color: rgba(255, 255, 255, 0.86);
	}
	.btns {
		display: flex;
		gap: 10px;
		margin-top: 10px;
	}
	.cta {
		display: inline-block;
		padding: 12px 18px;
		border-radius: 999px;
		background: #e94e77;
		color: #fff;
		text-decoration: none;
		font-size: 15px;
		box-shadow: 0 6px 20px rgba(233, 78, 119, 0.35);
	}
	.map {
		display: inline-block;
		padding: 12px 16px;
		border-radius: 999px;
		background: rgba(255, 255, 255, 0.12);
		color: #fff;
		text-decoration: none;
		font-size: 15px;
		border: 1px solid rgba(255, 255, 255, 0.22);
	}
</style>
